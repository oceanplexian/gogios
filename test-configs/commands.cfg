###############################################################################
# COMMANDS.CFG - Check, notification, event handler, and perfdata commands
###############################################################################

#
# CHECK COMMANDS
#

# Generic check that always returns OK
define command {
    command_name    check-host-alive
    command_line    /bin/echo "HOST OK - $HOSTADDRESS$ is alive"
}

# Ping check (simulated)
define command {
    command_name    check_ping
    command_line    /bin/echo "PING OK - Packet loss = 0%, RTA = 0.50 ms|rta=0.500000ms;$ARG1$;$ARG2$;0.000000 pl=0%;$ARG3$;$ARG4$;0"
}

# HTTP check (simulated)
define command {
    command_name    check_http
    command_line    /bin/echo "HTTP OK: HTTP/1.1 200 OK - $ARG1$ bytes in 0.001 second response time|time=0.001000s;;;0.000000 size=$ARG1$B;;;0"
}

# SSH check (simulated)
define command {
    command_name    check_ssh
    command_line    /bin/echo "SSH OK - OpenSSH_8.9 (protocol 2.0)|time=0.050000s;;;0.000000;$ARG1$"
}

# Disk check (simulated)
define command {
    command_name    check_disk
    command_line    /bin/echo "DISK OK - free space: $ARG1$ 50000 MB (75% inode=99%)|$ARG1$=50000MB;$ARG2$;$ARG3$;0;200000"
}

# Load check (simulated)
define command {
    command_name    check_load
    command_line    /bin/echo "OK - load average: 0.50, 0.40, 0.30|load1=0.500;$ARG1$;$ARG2$;0; load5=0.400;$ARG1$;$ARG2$;0; load15=0.300;$ARG1$;$ARG2$;0;"
}

# Process check (simulated)
define command {
    command_name    check_procs
    command_line    /bin/echo "PROCS OK: $ARG1$ processes with STATE = $ARG2$"
}

# SNMP check using USER2 macro
define command {
    command_name    check_snmp
    command_line    /bin/echo "SNMP OK - community=$USER2$ oid=$ARG1$ value=42|$ARG1$=42"
}

# TCP port check (simulated)
define command {
    command_name    check_tcp
    command_line    /bin/echo "TCP OK - 0.001 second response time on port $ARG1$|time=0.001000s;;;0.000000;$ARG2$"
}

# DNS check (simulated)
define command {
    command_name    check_dns
    command_line    /bin/echo "DNS OK: 0.001 seconds response time. $ARG1$ returns 127.0.0.1|time=0.001000s;;;0.000000"
}

# NRPE check (simulated)
define command {
    command_name    check_nrpe
    command_line    /bin/echo "NRPE OK - $ARG1$ check passed"
}

# Dummy check (for passive-only services)
define command {
    command_name    check_dummy
    command_line    /bin/echo "$ARG1$ $ARG2$"
}

# Custom check using multiple USER macros
define command {
    command_name    check_custom_api
    command_line    /bin/echo "API OK - token=$USER9$ threshold=$USER7$/$USER8$"
}

#
# NOTIFICATION COMMANDS
#

# Host notification by email (simulated)
define command {
    command_name    notify-host-by-email
    command_line    /bin/echo "** $NOTIFICATIONTYPE$ Host Alert: $HOSTNAME$ is $HOSTSTATE$ **"
}

# Service notification by email (simulated)
define command {
    command_name    notify-service-by-email
    command_line    /bin/echo "** $NOTIFICATIONTYPE$ Service Alert: $HOSTNAME$/$SERVICEDESC$ is $SERVICESTATE$ **"
}

# Host notification by pager (simulated)
define command {
    command_name    notify-host-by-pager
    command_line    /bin/echo "PAGER: $NOTIFICATIONTYPE$ $HOSTNAME$ $HOSTSTATE$"
}

# Service notification by pager (simulated)
define command {
    command_name    notify-service-by-pager
    command_line    /bin/echo "PAGER: $NOTIFICATIONTYPE$ $HOSTNAME$/$SERVICEDESC$ $SERVICESTATE$"
}

# Slack notification (simulated)
define command {
    command_name    notify-host-by-slack
    command_line    /bin/echo "SLACK webhook=$USER5$ host=$HOSTNAME$ state=$HOSTSTATE$"
}

define command {
    command_name    notify-service-by-slack
    command_line    /bin/echo "SLACK webhook=$USER5$ host=$HOSTNAME$ svc=$SERVICEDESC$ state=$SERVICESTATE$"
}

#
# EVENT HANDLER COMMANDS
#

# Global host event handler
define command {
    command_name    global-host-event-handler
    command_line    /bin/echo "GLOBAL HOST EVENT: $HOSTNAME$ state=$HOSTSTATE$ type=$HOSTSTATETYPE$ attempt=$HOSTATTEMPT$"
}

# Global service event handler
define command {
    command_name    global-service-event-handler
    command_line    /bin/echo "GLOBAL SVC EVENT: $HOSTNAME$/$SERVICEDESC$ state=$SERVICESTATE$ type=$SERVICESTATETYPE$ attempt=$SERVICEATTEMPT$"
}

# Restart HTTP event handler
define command {
    command_name    restart-httpd
    command_line    /bin/echo "EVENT HANDLER: Restarting httpd on $HOSTNAME$ (state=$SERVICESTATE$ type=$SERVICESTATETYPE$)"
}

# Restart service generic event handler
define command {
    command_name    restart-service
    command_line    /bin/echo "EVENT HANDLER: Restarting $ARG1$ on $HOSTNAME$"
}

#
# PERFORMANCE DATA COMMANDS
#

define command {
    command_name    process-host-perfdata
    command_line    /bin/echo "$LASTHOSTCHECK$\t$HOSTNAME$\t$HOSTSTATE$\t$HOSTATTEMPT$\t$HOSTSTATETYPE$\t$HOSTEXECUTIONTIME$\t$HOSTOUTPUT$\t$HOSTPERFDATA$"
}

define command {
    command_name    process-service-perfdata
    command_line    /bin/echo "$LASTSERVICECHECK$\t$HOSTNAME$\t$SERVICEDESC$\t$SERVICESTATE$\t$SERVICEATTEMPT$\t$SERVICESTATETYPE$\t$SERVICEEXECUTIONTIME$\t$SERVICELATENCY$\t$SERVICEOUTPUT$\t$SERVICEPERFDATA$"
}
